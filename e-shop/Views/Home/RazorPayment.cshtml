@{
    Layout = "~/Views/Shared/_Layoutforallpage.cshtml";
    ViewBag.Title = "Razorpay Payment";
}

<div class="container py-5">
    <div class="text-center mb-4">
        <h2>Secure Payment</h2>
        <p>Please complete your payment using Razorpay</p>
    </div>

    <div class="card shadow rounded p-4 mx-auto" style="max-width: 500px;">
        <h5 class="mb-3">Order Summary</h5>
        <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between">
                <span>Total Amount</span>
                <strong>@String.Format("{0:N2}", (decimal)ViewBag.Amount / 100) AED</strong>
            </li>
        </ul>

        <form>
            <script src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="rzp_test_xxxxxx"  <!-- ✅ Replace with your Razorpay key -->
                data-amount="@ViewBag.Amount"
                data-currency="AED"
                data-order_id="@ViewBag.RazorpayOrderId"
                data-buttontext="Pay with Razorpay"
                data-name="E-Shop"
                data-description="Order Payment"
                data-image="https://yourdomain.com/logo.png" <!-- optional -->
                data-prefill.name="@TempData.Peek("FullName")"
                data-prefill.email="@ViewBag.Email"
                data-prefill.contact="@ViewBag.Contact"
                data-theme.color="#3399cc">
            </script>
            <input type="hidden" custom="Hidden Element" name="hidden" />
        </form>

        <div class="text-muted mt-3">
            <small>After successful payment, your order will be confirmed automatically.</small>
        </div>
    </div>
</div>
